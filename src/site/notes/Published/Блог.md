---
{"dg-publish":true,"permalink":"/published/blog/","title":"–ë–ª–æ–≥ | –ú–æ–∏ —Å—Ç–∞—Ç—å–∏ –∏ —Ç—É—Ç–æ—Ä–∏–∞–ª—ã"}
---


# üìù –ë–ª–æ–≥

–ó–¥–µ—Å—å —è –¥–µ–ª—é—Å—å –∑–Ω–∞–Ω–∏—è–º–∏ –∏ –æ–ø—ã—Ç–æ–º —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç—å–∏, —Ç—É—Ç–æ—Ä–∏–∞–ª—ã –∏ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è.

<style> .blog-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 25px; margin: 30px 0; } .blog-card { background: white; border: 1px solid #e0e0e0; border-radius: 12px; overflow: hidden; transition: all 0.3s ease; box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); text-decoration: none; color: inherit; } .blog-card:hover { transform: translateY(-8px); box-shadow: 0 12px 24px rgba(0, 0, 0, 0.15); } .blog-card-image { width: 100%; height: 200px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); display: flex; align-items: center; justify-content: center; font-size: 48px; } .blog-card-content { padding: 20px; } .blog-card-title { font-size: 18px; font-weight: 600; margin: 0 0 10px 0; } .blog-card-excerpt { font-size: 14px; color: #666; margin: 0 0 15px 0; } .blog-card-meta { display: flex; justify-content: space-between; font-size: 12px; color: #999; } .blog-card-tag { display: inline-block; background: #f0f0f0; padding: 4px 8px; border-radius: 4px; color: #667eea; font-weight: 500; } .loading { text-align: center; padding: 40px; color: #666; } </style>¬†<div id="blog-container" class="blog-grid"> <div class="loading">‚è≥ –ó–∞–≥—Ä—É–∑–∫–∞ —Å—Ç–∞—Ç–µ–π...</div> </div>¬†<script> const GITHUB_USER = "imdbcooper"; const GITHUB_REPO = "som"; const BLOG_FOLDER = "src/site/notes/Published/Blog"; async function loadBlogPosts() { try { const url = `https://api.github.com/repos/${GITHUB_USER}/${GITHUB_REPO}/contents/${BLOG_FOLDER}`; console.log('üì• –ó–∞–≥—Ä—É–∂–∞—é —Ñ–∞–π–ª—ã –∏–∑:', url); const response = await fetch(url); if (!response.ok) throw new Error(`GitHub API –æ—à–∏–±–∫–∞: ${response.status}`); const files = await response.json(); console.log('üìÇ –í—Å–µ —Ñ–∞–π–ª—ã:', files.map(f => f.name)); const mdFiles = files.filter(f => f && f.name && f.name.endsWith('.md') && f.name !== 'Blog.md' && f.name !== '–ë–ª–æ–≥.md' ); console.log('‚úÖ –ù–∞–π–¥–µ–Ω–æ markdown —Ñ–∞–π–ª–æ–≤:', mdFiles.length); if (mdFiles.length === 0) { document.getElementById('blog-container').innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #999;">–°—Ç–∞—Ç—å–∏ –µ—â—ë –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã! üìù</p>'; return; } const posts = await Promise.all( mdFiles.map(file => file.download_url ? loadAndParseFile(file.download_url, file.name) : Promise.resolve(null) ) ); const validPosts = posts .filter(p => p && typeof p === 'object' && (p.published === true || p.published === 'true')) .sort((a, b) => new Date(b.date) - new Date(a.date)); console.log('üéâ –í–∞–ª–∏–¥–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π:', validPosts.length); const container = document.getElementById('blog-container'); if (!container) return; if (validPosts.length === 0) { container.innerHTML = '<p style="grid-column: 1/-1; text-align: center; color: #999;">–ù–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π</p>'; return; } renderCards(validPosts); } catch (error) { console.error('‚ùå –û—à–∏–±–∫–∞:', error); const container = document.getElementById('blog-container'); if (container) container.innerHTML = `<p style="grid-column: 1/-1; color: red; text-align: center;">‚ö†Ô∏è –û—à–∏–±–∫–∞: ${error.message}</p>`; } } async function loadAndParseFile(url, filename) { try { const response = await fetch(url); if (!response.ok) return null; const content = await response.text(); return parseMetadata(content, filename); } catch (error) { console.error(`‚ùå –û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ${filename}:`, error); return null; } } function parseMetadata(content, filename) { try { if (!content || typeof content !== 'string') return null; let meta = {}; let contentStart = 0; // –®–∞–≥ 1: –ü–æ–ø—ã—Ç–∞–µ–º—Å—è –Ω–∞–π—Ç–∏ JSON/YAML –±–ª–æ–∫ –º–µ–∂–¥—É --- const yamlMatch = content.match(/^---\s*\n([\s\S]*?)\n---/); if (yamlMatch && yamlMatch) { let blockContent = yamlMatch.trim(); // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —ç—Ç–æ JSON –∏–ª–∏ YAML if (blockContent.startsWith('{')) { // JSON —Ñ–æ—Ä–º–∞—Ç (Digital Garden) console.log('üîç –ù–∞–π–¥–µ–Ω JSON —Ñ–æ—Ä–º–∞—Ç (Digital Garden)'); try { meta = JSON.parse(blockContent); console.log('‚úÖ JSON —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω:', meta); } catch (e) { console.warn('‚ö†Ô∏è JSON parse error:', e.message); } } else { // YAML —Ñ–æ—Ä–º–∞—Ç console.log('üîç –ù–∞–π–¥–µ–Ω YAML —Ñ–æ—Ä–º–∞—Ç'); const lines = blockContent.split('\n'); lines.forEach(line => { if (!line || !line.trim()) return; const colonIdx = line.indexOf(':'); if (colonIdx === -1) return; const key = line.substring(0, colonIdx).trim(); let value = line.substring(colonIdx + 1).trim(); // –£–±–∏—Ä–∞–µ–º –∫–∞–≤—ã—á–∫–∏ if ((value.startsWith('"') && value.endsWith('"')) || (value.startsWith("'") && value.endsWith("'"))) { value = value.slice(1, -1); } // –ü–∞—Ä—Å–∏–º —Ç–∏–ø—ã if (value === 'true') meta[key] = true; else if (value === 'false') meta[key] = false; else meta[key] = value; }); } contentStart = yamlMatch.length; } // –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏ –º–µ–∂–¥—É --, –∏—â–µ–º JSON –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ if (Object.keys(meta).length === 0) { const jsonMatch = content.match(/^\s*\{[\s\S]*?\}\s*\n/); if (jsonMatch) { try { meta = JSON.parse(jsonMatch); console.log('‚úÖ JSON –≤ –Ω–∞—á–∞–ª–µ —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω:', meta); contentStart = jsonMatch.length; } catch (e) { console.warn('‚ö†Ô∏è JSON parse error:', e.message); } } } // –ò–∑–≤–ª–µ–∫–∞–µ–º –Ω—É–∂–Ω—ã–µ –ø–æ–ª—è let published = false; if (meta['dg-publish'] === true || meta['dg-publish'] === 'true' || meta['published'] === true || meta['published'] === 'true') { published = true; } const title = String(meta.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è'); const date = String(meta.date || new Date().toISOString().split('T')); let excerpt = meta.excerpt || meta.description || ''; if (!excerpt && contentStart < content.length) { excerpt = content.substring(contentStart, contentStart + 150) .replace(/[#\-\*]/g, '') .replace(/\n/g, ' ') .trim() + '...'; } if (!excerpt) excerpt = '–ù–µ—Ç –æ–ø–∏—Å–∞–Ω–∏—è'; let category = '–°—Ç–∞—Ç—å—è'; if (Array.isArray(meta.tags) && meta.tags.length > 0) { category = meta.tags; } else if (typeof meta.tags === 'string') { category = meta.tags; } else if (meta.category) { category = meta.category; } const emoji = String(meta.emoji || 'üìù'); console.log('‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:', {title, date, excerpt, category, emoji, published}); return { title: title, date: date, excerpt: String(excerpt), category: String(category), emoji: emoji, published: published }; } catch (error) { console.error('‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:', error); return null; } } function renderCards(posts) { const container = document.getElementById('blog-container'); if (!container || !posts || posts.length === 0) return; const html = posts.map((post) => { let dateStr = '–î–∞—Ç–∞ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–∞'; try { if (post.date) { const date = new Date(String(post.date)); if (!isNaN(date.getTime())) { dateStr = date.toLocaleDateString('ru-RU', { year: 'numeric', month: 'long', day: 'numeric' }); } } } catch (e) {} const title = String(post.title || '').replace(/[<>]/g, ''); const excerpt = String(post.excerpt || '').replace(/[<>]/g, '').substring(0, 150); const category = String(post.category || '').replace(/[<>]/g, ''); const emoji = String(post.emoji || 'üìù').substring(0, 2); return ` <div class="blog-card"> <div class="blog-card-image">${emoji}</div> <div class="blog-card-content"> <h3 class="blog-card-title">${title}</h3> <p class="blog-card-excerpt">${excerpt}</p> <div class="blog-card-meta"> <span>${dateStr}</span> <span class="blog-card-tag">${category}</span> </div> </div> </div> `; }).join(''); container.innerHTML = html; console.log('‚ú® –ì–æ—Ç–æ–≤–æ!'); } console.log('üöÄ –ù–∞—á–∏–Ω–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É...'); if (document.readyState === 'loading') { document.addEventListener('DOMContentLoaded', loadBlogPosts); } else { loadBlogPosts(); } </script>